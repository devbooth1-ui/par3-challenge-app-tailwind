(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{548:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/AdminPortalSimple",function(){return s(2895)}])},2895:function(e,l,s){"use strict";s.r(l);var a=s(5893),t=s(7294);l.default=function(){let[e,l]=(0,t.useState)(!1),[s,n]=(0,t.useState)([]),[i,o]=(0,t.useState)({email:"",password:""});(0,t.useEffect)(()=>{localStorage.getItem("adminSession")&&(l(!0),d());let e=e=>{"adminClaims"===e.key&&(console.log("Admin portal detected new claims!"),d())};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]);let d=()=>{console.log("\uD83D\uDD04 Loading claims...");let e=window.globalClaims||[];console.log("\uD83C\uDF10 Global claims found:",e.length);let l=localStorage.getItem("adminClaims");if(console.log("\uD83D\uDCBE localStorage adminClaims:",l),l){let e=JSON.parse(l);console.log("\uD83D\uDCCB Parsed claims from storage:",e.length),n(e)}else e.length>0?(console.log("\uD83D\uDCCB Using global claims:",e.length),n(e),localStorage.setItem("adminClaims",JSON.stringify(e))):(console.log("\uD83D\uDCCB No claims found, setting empty array"),n([]))},r=e=>{let l=[...s,{id:Date.now().toString(),first_name:"Test",last_name:"Player",email:"test@example.com",hole:Math.floor(18*Math.random())+1,claim_type:e,status:"pending",created_at:new Date().toISOString(),prize_amount:"birdie"===e?6500:1e5}];n(l),localStorage.setItem("adminClaims",JSON.stringify(l))};return e?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("div",{className:"bg-white shadow p-4",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"\uD83D\uDD27 PAR3 Admin Portal"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("adminSession"),l(!1)},className:"bg-red-600 text-white px-4 py-2 rounded",children:"Logout"})]})}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-100 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-bold",children:"Total Claims"}),(0,a.jsx)("p",{className:"text-2xl",children:s.length})]}),(0,a.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-bold",children:"Pending Claims"}),(0,a.jsx)("p",{className:"text-2xl",children:s.filter(e=>"pending"===e.status).length})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Testing Tools"}),(0,a.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>r("birdie"),className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Add Test Birdie"}),(0,a.jsx)("button",{onClick:()=>r("hole_in_one"),className:"bg-yellow-600 text-white px-4 py-2 rounded",children:"Add Test Hole-in-One"}),(0,a.jsx)("button",{onClick:d,className:"bg-green-600 text-white px-4 py-2 rounded",children:"\uD83D\uDD04 Refresh Claims"}),(0,a.jsx)("button",{onClick:()=>{console.log("\uD83D\uDC1B DEBUG INFO:"),console.log("Global claims:",window.globalClaims||[]),console.log("localStorage adminClaims:",localStorage.getItem("adminClaims")),console.log("Current claims state:",s),alert("Debug Info:\nGlobal: ".concat((window.globalClaims||[]).length," claims\nLocalStorage: ").concat(localStorage.getItem("adminClaims")?JSON.parse(localStorage.getItem("adminClaims")).length:0," claims\nState: ").concat(s.length," claims"))},className:"bg-purple-600 text-white px-4 py-2 rounded",children:"\uD83D\uDC1B Debug Info"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h3",{className:"font-bold",children:"Claims"})}),0===s.length?(0,a.jsx)("div",{className:"p-8 text-center text-gray-500",children:"No claims yet. Submit some from the game or use the test buttons above."}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3 text-left",children:"Player"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Type"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Hole"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Prize"}),(0,a.jsx)("th",{className:"p-3 text-left",children:"Status"})]})}),(0,a.jsx)("tbody",{children:s.map(e=>(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsxs)("td",{className:"p-3",children:[e.first_name," ",e.last_name,(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.email})]}),(0,a.jsx)("td",{className:"p-3",children:"hole_in_one"===e.claim_type?"\uD83C\uDFC6 Hole-in-One":"\uD83C\uDFAF Birdie"}),(0,a.jsxs)("td",{className:"p-3",children:["#",e.hole]}),(0,a.jsxs)("td",{className:"p-3",children:["$",e.prize_amount/100]}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.status})})]},e.id))})]})})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-purple-900 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-md",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"\uD83D\uDD27 Admin Portal"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"admin@par3challenge.com"===i.email&&"admin123"===i.password?(localStorage.setItem("adminSession","true"),l(!0),d()):alert("Invalid credentials")},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:i.email,onChange:e=>o({...i,email:e.target.value}),className:"w-full p-3 border rounded-lg",placeholder:"admin@par3challenge.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",value:i.password,onChange:e=>o({...i,password:e.target.value}),className:"w-full p-3 border rounded-lg",placeholder:"admin123",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg",children:"Login"})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-sm",children:[(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"Demo Credentials:"})}),(0,a.jsx)("p",{children:"Email: admin@par3challenge.com"}),(0,a.jsx)("p",{children:"Password: admin123"})]})]})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=548)}),_N_E=e.O()}]);