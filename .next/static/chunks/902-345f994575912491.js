"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{6503:function(e,t,a){a.d(t,{Z:function(){return l}});var o=a(5893),i=a(7294);function l(e){let{duration:t=2500}=e,a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e;let o=a.current;if(!o)return;let i=o.getContext("2d"),l=window.innerWidth,r=window.innerHeight;o.width=l,o.height=r;let n=["#FFD700","#FF6347","#00FA9A","#1E90FF","#FF69B4","#7CFC00"],s=Array.from({length:120},()=>({x:Math.random()*l,y:-(Math.random()*r),r:6*Math.random()+4,d:80*Math.random()+40,color:n[Math.floor(Math.random()*n.length)],tilt:10*Math.random()-10,tiltAngle:0,tiltAngleIncremental:.07*Math.random()+.05})),c=0;!function t(){i.clearRect(0,0,l,r),c+=.01;for(let e=0;e<s.length;e++){let t=s[e];t.tiltAngle+=t.tiltAngleIncremental,t.y+=(Math.cos(c+t.d)+3+t.r/2)/2,t.x+=Math.sin(c),t.tilt=15*Math.sin(t.tiltAngle),i.beginPath(),i.lineWidth=t.r,i.strokeStyle=t.color,i.moveTo(t.x+t.tilt+t.r/3,t.y),i.lineTo(t.x+t.tilt,t.y+t.tilt+t.r),i.stroke()}e=requestAnimationFrame(t)}();let m=setTimeout(()=>{cancelAnimationFrame(e),i.clearRect(0,0,l,r)},t);return()=>{cancelAnimationFrame(e),clearTimeout(m),i.clearRect(0,0,l,r)}},[t]),(0,o.jsx)("canvas",{ref:a,style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:9999}})}},8902:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var o=a(5893),i=a(7294),l=a(6503),r=a(1163);function n(){let e=(0,r.useRouter)(),[t,a]=(0,i.useState)(""),[n,s]=(0,i.useState)(""),[c,m]=(0,i.useState)(""),[d,u]=(0,i.useState)("Player"),[h,p]=(0,i.useState)(""),[f,y]=(0,i.useState)(""),[g,b]=(0,i.useState)(""),[x,w]=(0,i.useState)(0),[v,N]=(0,i.useState)(!1);if((0,i.useEffect)(()=>{u(localStorage.getItem("playerName")||"Player"),p(e.query.prize||localStorage.getItem("prize")||""),y(e.query.courseId||localStorage.getItem("courseId")||""),b(e.query.hole||localStorage.getItem("hole")||""),w(Number(e.query.points||localStorage.getItem("points")||0))},[e.query]),(0,i.useEffect)(()=>{h||e.replace("/howd-we-do")},[h,e]),!h)return null;let S=d.split(" ")[0],j=S.charAt(0).toUpperCase()+S.slice(1).toLowerCase(),T=async a=>{if(a.preventDefault(),v)return;N(!0);let o="".concat(n," ").concat(c),i="Unknown Player",l="No email provided",r="",s={};i=localStorage.getItem("playerName")||"Unknown Player",l=localStorage.getItem("playerEmail")||"No email provided",localStorage.getItem("lastPaymentMethod"),r=localStorage.getItem("playerPhone")||"",s=JSON.parse(localStorage.getItem("playerStats")||"{}");let m=i.split(" ");m[0],m.slice(1).join(" ");try{let e={playerName:i,playerEmail:l,playerPhone:r,courseId:f,hole:g,claimType:"hio"===h?"hole-in-one":"birdie",teeTime:o||"",outfit:t||"",points:x||0,videoRef:""},a=await fetch("https://par3-admin1.vercel.app/api/claims",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await a.json();console.log("Claim submitted to backend:",n),n&&!n.error?alert("✅ Prize claim submitted! devbooth1@yahoo.com has been notified immediately."):n&&n.offline?alert("⚠️ Claim logged locally. Will sync with our team when available."):alert("✅ Prize claim submitted! Company will be notified immediately."),alert("Your submission is under review. You will receive an email when your hole has been reviewed by our team.");let c={name:i,email:l,phone:r,stats:s,claim:e,courseId:f};try{let e=await fetch("https://par3-admin1.vercel.app/api/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),t=await e.json();console.log("Player submitted to backend:",t),e.ok&&t&&!t.error||alert("Player submission failed: "+(t.error||e.status))}catch(e){console.error("Failed to submit player to backend:",e),alert("Player submission failed: "+e.message)}}catch(e){console.error("Failed to submit claim to admin portal:",e),alert("Prize claim logged! Company notification will be sent immediately."),alert("Your submission is under review. You will receive an email when your hole has been reviewed by our team.")}N(!1);let d=s.tournamentQualified||s.totalPoints>=800,u=s.tournamentRegistered;if(d&&!u&&window.confirm("\uD83C\uDFC6 CONGRATULATIONS! \uD83C\uDFC6\n\nYou now have ".concat(s.totalPoints," points and are QUALIFIED for the $1 MILLION TOURNAMENT!\n\nWould you like to register now?"))){e.push("/tournament-signup");return}e.push({pathname:"/myscorecard",query:{prize:h,outfit:t,teeTime:o}})},C="hio"===h;return(0,o.jsxs)("div",{className:"min-h-screen flex flex-col justify-between p-0 sm:p-4 overflow-hidden",style:{minHeight:"100dvh",backgroundImage:"url(/golf-bg.jpg)",backgroundSize:"cover",backgroundPosition:"center",overflow:"auto",WebkitOverflowScrolling:"touch"},children:[("hio"===h||"birdie"===h)&&(0,o.jsx)(l.Z,{duration:3e3}),(0,o.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/40 via-emerald-800/30 to-lime-700/40"}),(0,o.jsxs)("div",{className:"relative z-10 w-full max-w-sm sm:max-w-md bg-white/95 backdrop-blur-sm rounded-2xl shadow-2xl p-4 sm:p-6 border border-emerald-200 mx-auto my-4 flex flex-col justify-between min-h-[80svh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"text-center mb-4",children:[(0,o.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 via-green-600 to-lime-600 mb-1",children:["Congratulations ",j,"!"]}),(0,o.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-slate-700 mb-1",children:C?"on your Hole-in-One!":"on your Birdie!"}),(0,o.jsxs)("p",{className:"text-sm sm:text-base text-slate-600 mb-2",children:["You've claimed: ",(0,o.jsx)("span",{className:"font-bold text-emerald-700",children:C?"$1,000 CASH* + Instant Qualification for the $1 Million Shoot Out":"$65 Club Card + 200 Points"})]}),(0,o.jsx)("p",{className:"text-xs sm:text-sm text-slate-600",children:"Let's get some details for recognition and verification."})]}),(0,o.jsxs)("form",{onSubmit:T,className:"flex flex-col gap-3 flex-1 justify-between",children:[(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-slate-700",children:"Outfit Description for Verification"}),(0,o.jsx)("textarea",{className:"w-full border-2 border-emerald-200 rounded-lg p-2 sm:p-3 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all text-[16px]",rows:3,value:t,onChange:e=>a(e.target.value),placeholder:"Please describe what you were wearing (e.g., blue cap, red polo, white pants)",required:!0,style:{fontSize:16}})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-slate-700",children:"Date of Achievement"}),(0,o.jsx)("input",{type:"date",className:"w-full border-2 border-emerald-200 rounded-lg p-2 sm:p-3 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all text-[16px]",value:n,onChange:e=>s(e.target.value),required:!0,style:{fontSize:16}})]}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-slate-700",children:"Approximate Tee Time"}),(0,o.jsx)("input",{type:"time",className:"w-full border-2 border-emerald-200 rounded-lg p-2 sm:p-3 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 transition-all text-[16px]",value:c,onChange:e=>m(e.target.value),required:!0,style:{fontSize:16}})]})]}),(0,o.jsx)("div",{className:"my-3 text-center text-xs sm:text-sm text-slate-700 font-medium",children:"Awards subject to verification. Hole-in-Won confirmation status will be emailed within 24 hours. *Award will be paid back to the method of payment used."}),(0,o.jsx)("button",{type:"submit",className:"w-full mt-2 px-4 py-3 sm:px-6 sm:py-4 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg text-base sm:text-lg",disabled:v,style:v?{opacity:.6,cursor:"not-allowed"}:{},children:v?"Submitting...":"Submit for Verification"})]}),(0,o.jsx)("div",{className:"mt-3 text-center pb-2",children:(0,o.jsx)("p",{className:"text-xs text-slate-500",children:"\uD83D\uDD12 Your information is secure and used only for prize verification"})})]})]})}a(9684)},9684:function(e,t,a){a.d(t,{S:function(){return i}});let o="https://par3-admin1.vercel.app",i={submitBirdieClaim:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let i=await fetch("".concat(o,"/api/claims"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimType:"birdie",playerName:"".concat(e.firstName," ").concat(e.lastName),playerEmail:e.email||"",playerPhone:e.phone||"",outfitDescription:t,teeTime:a,courseId:"wentworth-gc",hole:"1",paymentMethod:"card"})});if(!i.ok)throw Error("Failed to submit claim: ".concat(i.status));let l=await i.json();return console.log("\uD83D\uDEA8 BIRDIE CLAIM SUBMITTED:",l),await fetch("".concat(o,"/api/send-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimType:"birdie",playerName:"".concat(e.firstName," ").concat(e.lastName),playerEmail:e.email||"",playerPhone:e.phone||"",outfitDescription:t,teeDate:a?a.split(" ")[0]:"",teeTime:a?a.split(" ")[1]:"",courseName:"Wentworth GC"})}),l}catch(e){return console.error("Failed to submit birdie claim:",e),{error:e.message,offline:!0}}},submitHoleInOneClaim:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{let l=await fetch("".concat(o,"/api/claims"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimType:"hole_in_one",playerName:"".concat(e.firstName," ").concat(e.lastName),playerEmail:e.email||"",playerPhone:e.phone||"",outfitDescription:a,teeTime:i,courseId:"wentworth-gc",hole:"1",paymentMethod:t||"card"})});if(!l.ok)throw Error("Failed to submit hole-in-one claim: ".concat(l.status));let r=await l.json();return console.log("\uD83D\uDEA8 HOLE-IN-ONE CLAIM SUBMITTED:",r),await fetch("".concat(o,"/api/send-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({claimType:"hole-in-one",playerName:"".concat(e.firstName," ").concat(e.lastName),playerEmail:e.email||"",playerPhone:e.phone||"",outfitDescription:a,teeDate:i?i.split(" ")[0]:"",teeTime:i?i.split(" ")[1]:"",courseName:"Wentworth GC"})}),r}catch(e){return console.error("Failed to submit hole-in-one claim:",e),{error:e.message,offline:!0}}}}}}]);